(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[526],{8506:function(e,t,r){Promise.resolve().then(r.bind(r,8338))},6648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(5601),n=r.n(a)},6463:function(e,t,r){"use strict";var a=r(1169);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},5601:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return i}});let a=r(9920),n=r(497),s=r(8173),o=a._(r(1241));function i(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=s.Image},8338:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(7437),n=r(2265),s=r(5857),o=r(9824),i=e=>{let{columns:t=[],data:r=[],type:s}=e;console.log("Table Data:",r);let[i,c]=(0,n.useState)(1),l=()=>{let e=(i-1)*7;return r.slice(e,e+7)},u=e=>{switch(String(e).toLowerCase()){case"ideal":case"ya":return"text-green-500";case"minimal diperlukan":case"tidak":return"text-red-500";case"tidak memadai":case"tidak tahu":return"text-gray-500";default:return""}};if(!Array.isArray(r))return console.error("Invalid data format:",r),(0,a.jsx)("p",{children:"Error: Invalid data format"});let d=Math.ceil(r.length/7),m=Array.from({length:d},(e,t)=>t+1),h=(()=>{let e=Math.floor(2.5),t=Math.max(1,i-e),r=Math.min(d,i+e);return r-t+1<5&&(1===t?r=Math.min(5,d):r===d&&(t=Math.max(1,d-5+1))),m.slice(t-1,r)})(),f="sub"===s?[{header:"ID",accessor:"id"},...t]:t;return(0,a.jsxs)("div",{className:"overflow-x-auto relative h-auto sm:rounded-lg",children:[(0,a.jsxs)("table",{className:"w-9/12 mx-auto my-20 text-sm text-gray-500 border-collapse border border-gray-200",children:[(0,a.jsx)("thead",{className:"text-xs text-white uppercase bg-accent",children:(0,a.jsx)("tr",{children:f.map((e,t)=>(0,a.jsx)("th",{scope:"col",className:"py-3 px-6 border border-gray-300 ".concat("question"===e.accessor?"w-7/12":""," ").concat("value"===e.accessor?"w-52 text-center":""),children:e.header},t))})}),(0,a.jsx)("tbody",{children:0===l().length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:f.length,className:"py-4 px-6 text-center border border-gray-300",children:"No data available"})}):l().map((e,t)=>(0,a.jsx)("tr",{className:"bg-white",children:f.map((t,r)=>(0,a.jsx)("td",{className:"py-4 px-6 border border-gray-200 ".concat(u(e[t.accessor])),children:e[t.accessor]||"-"},r))},t))})]}),d>1&&(0,a.jsxs)("div",{className:"flex mb-20 flex-wrap justify-center items-center mt-4 space-x-2",children:[(0,a.jsx)("button",{onClick:()=>c(e=>Math.max(e-1,1)),disabled:1===i,className:"px-2 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",children:(0,a.jsx)(o.u1R,{size:20})}),h.map(e=>(0,a.jsx)("button",{onClick:()=>c(e),className:"px-3.5 py-1.5 border border-gray-300 rounded ".concat(i===e?"bg-accent text-white":"bg-gray-200 text-gray-700"," hover:bg-accent hover:text-white"),children:e},e)),(0,a.jsx)("button",{onClick:()=>c(e=>Math.min(e+1,d)),disabled:i===d,className:"px-2 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",children:(0,a.jsx)(o.hjJ,{size:20})})]})]})},c=r(6463),l=r(9714),u=r(5097),d=()=>{let e=(0,c.useRouter)(),[t,r]=(0,n.useState)(""),[o,d]=(0,n.useState)(""),[m,h]=(0,n.useState)(!1),[f,p]=(0,n.useState)([]),[g,b]=(0,n.useState)(!0),[x,y]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let t=sessionStorage.getItem("accessToken");if(t)try{let e=(0,l.o)(t);r(e.username||""),d(e.status||"")}catch(e){console.error("Failed to decode token:",e)}else e.push("/")},[e]),(0,n.useEffect)(()=>{(async()=>{try{let e=sessionStorage.getItem("accessToken"),t=await fetch("https://swhytbiyrgsovsl-evfpthsuvq-et.a.run.app/response",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();console.log("Fetched Data:",r);let{data:a}=r;if(!a||!Array.isArray(a)){console.error("Unexpected data format:",a);return}let n=new Set,s=a.flatMap(e=>{let{id:t,number:r,question:a,sub:s}=e;if(t>195)return[];let o=!n.has(t);if(o&&n.add(t),s&&Array.isArray(s)){let r=[{id:t,number:"",question:e.question||"-",value:e.value||"-",comment:e.comment||"-"}],a=s.map((e,t)=>({number:t+1,question:e.question||"-",value:e.value||"-",comment:e.comment||"-"}));return r.push(...a),console.log(r),r}return[{id:o?t:"",number:"",question:e.question||"-",value:e.value||"-",comment:e.comment||"-"}]});p(s)}catch(e){console.error("Failed to fetch data:",e)}finally{b(!1)}})()},[]),(0,a.jsxs)("div",{className:"-z-50",children:[(0,a.jsx)(s.Z,{username:t,status:o,onClick:()=>{h(!m)}}),m&&(0,a.jsx)("div",{className:"absolute top-20 z-20 right-[218px] bg-red-500 rounded-b-lg p-4 py-4 w-[176px] ",children:(0,a.jsxs)("p",{className:"text-base flex items-center justify-between cursor-pointer text-white font-semibold",onClick:()=>{y(!1),sessionStorage.removeItem("accessToken"),e.push("/")},children:["Keluar",(0,a.jsx)(u.qgu,{size:15})]})}),g?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsx)(i,{type:"sub",columns:[{header:"No.",accessor:"number"},{header:"Pertanyaan",accessor:"question"},{header:"Jawaban",accessor:"value"},{header:"Komentar",accessor:"comment"}],data:f})]})}},5857:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var a=r(7437),n=r(6648);r(2265);var s=r(7339),o=r(9441),i=r(731),c=r(9824),l=e=>{let{status:t}=e;return(0,a.jsx)("div",{className:"rounded-3xl bg-[#CFF0FF] flex justify-center items-center  w-[112px] h-[35px]",children:(0,a.jsx)("p",{className:"text-base capitalize font-medium text-[#208EC1]",children:t})})},u=e=>{let{username:t,onClick:r,status:u,institute:d}=e;return(0,a.jsxs)("div",{className:"bg-[#1446AB] w-full px-12 text-white h-[110px] flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsxs)("div",{className:"bg-white px-4 py-2 rounded-lg flex items-center gap-x-2",children:[(0,a.jsx)(n.default,{src:s.Z,alt:"logo",width:32}),(0,a.jsx)(n.default,{src:o.Z,alt:"logo-unnes",width:32})]}),(0,a.jsx)("p",{className:"text-base font-medium",children:"Assessmen Kesiapsiagaan"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-x-5",children:[(0,a.jsxs)("p",{className:"flex items-center gap-x-2 cursor-pointer",onClick:r,children:[(0,a.jsx)(i.Mdg,{size:35}),(0,a.jsxs)("span",{className:"capitalize",children:[t,", ",d]})," ",(0,a.jsx)(c.OId,{size:16})]}),(0,a.jsx)("div",{className:"border-l-2 px-4",children:(0,a.jsx)(l,{status:u})})]})]})}},9441:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo-unnes.a8234599.png",height:2037,width:1528,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAICAYAAADaxo44AAAAmUlEQVR42mOAgX8My7n/MazgQgjsXsX07zZDyr9TZUkgDGKDxBj+3WTw/XeD9fq/Wwx9IAxig8QY/t1gDPt3g+HCvxu8tRDMeAEkxgAC/28zRP2/w+ABxZEMMHB1q5fU25NGrm9OGLsdXxkizwACFno1igwMDYVGmrW1hhq1jUB2ipVBjRwDkMFhrFkLlGyUALJljUBshgYOAAlOSl74PLyAAAAAAElFTkSuQmCC",blurWidth:6,blurHeight:8}},7339:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.d996293f.png",height:666,width:644,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAh0lEQVR42k3PvQqBYRjH4YeBE2CVUY7AbFY2BjERC5MyKDO71UcxITPlVZLzcj31Knddy91v+YdKfREoMOaZmlAM8dLgyok2Hc7RL1hzoUugSp896/hImDKgRpseM5IY3FjRYs+WHkvuMZjzokyeHCUezGMQ7fgwYsibzf+KDA0OHGmSDSGEL58VUAFXC6ZfAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},9714:function(e,t,r){"use strict";r.d(t,{o:function(){return n}});class a extends Error{}function n(e,t){let r;if("string"!=typeof e)throw new a("Invalid token specified: must be a string");t||(t={});let n=!0===t.header?0:1,s=e.split(".")[n];if("string"!=typeof s)throw new a(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(s)}catch(e){throw new a(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new a(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}a.prototype.name="InvalidTokenError"},1810:function(e,t,r){"use strict";r.d(t,{w_:function(){return u}});var a=r(2265),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=a.createContext&&a.createContext(n),o=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var a,n;a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>a.createElement(d,i({attr:l({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,l({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:n,size:s,title:c}=e,u=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,o),d=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,u,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==s?a.createElement(s.Consumer,null,e=>t(e)):t(n)}}},function(e){e.O(0,[452,706,694,173,971,23,744],function(){return e(e.s=8506)}),_N_E=e.O()}]);