(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[819],{2827:function(e,t,a){Promise.resolve().then(a.bind(a,1185))},1185:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var s=a(7437),l=a(2265);a(3153);var n=a(6463),r=a(8441),i=a(7381),o=a(4839),c=a(9824),d=e=>{let{type:t,value:a,name:n,options:r=[],placeholder:i,selectedValue:d="",setSelectedValue:u}=e,[m,p]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem(n);e&&u&&u(e)},[n]);let x=e=>{u&&u(e),p(!1),localStorage.setItem(n,e)};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:d,name:n,className:"hidden"}),(0,s.jsx)("div",{onClick:()=>p(!m),style:{width:"200px"},className:(0,o.Z)("border p-2 rounded-md w-full cursor-pointer","focus:ring-2 focus:ring-blue-500 focus:border-blue-500","text-black font-medium","bg-white"),children:d||(0,s.jsxs)("p",{className:"flex items-center justify-between",children:["Pilih Salah Satu ",(0,s.jsx)(c.OId,{size:15})]})}),m&&(0,s.jsx)("ul",{className:(0,o.Z)("absolute top-10 border border-gray-200 rounded-md bg-white w-full z-10","max-h-60 overflow-y-auto"),children:r.map((e,t)=>(0,s.jsx)("li",{onClick:()=>x(e.value),className:(0,o.Z)("px-4 py-2  cursor-pointer","hover:bg-abu","text-base","hover:text-white"),children:e.value},t))})]})},u=a(9108),m=e=>{let{type:t,options:a=[],label:n,name:r,placeholder:o,onChange:c,suggestions:m,selectedValue:p,setSelectedValue:x}=e,[h,g]=(0,l.useState)(""),[f,b]=(0,l.useState)(""),v=e=>{g(e),c(r,e)},y=e=>{b(e.target.value)};return(0,s.jsx)("div",{className:"bg-white rounded-lg p-4 h-auto w-[1048px]",children:(0,s.jsxs)("div",{className:"flex flex-col items-start gap-y-3 mb-4 border border-border p-4 rounded-lg",children:[(0,s.jsx)("label",{htmlFor:r,className:"block font-medium text-base w-2/3 h-auto pr-4",children:n}),"text"===t&&(0,s.jsx)("div",{className:"w-full flex flex-col items-start gap-y-2",children:(0,s.jsx)(u.Z,{type:"text",name:"".concat(r,"_comment"),placeholder:o,value:f,onChange:y,suggestions:m})}),"checkbox"===t&&(0,s.jsxs)("div",{className:"w-full flex flex-col items-start gap-y-2",children:[(0,s.jsx)(i.Z,{options:a,name:r,value:h,onChange:e=>v(e.target.value)}),(0,s.jsx)(u.Z,{type:"text",name:"".concat(r,"_comment"),placeholder:o,value:f,onChange:y,suggestions:m})]}),"dropdown"===t&&(0,s.jsxs)("div",{className:"w-full flex flex-row justify-center items-start gap-x-2",children:[(0,s.jsx)(d,{options:a,name:r,placeholder:o,value:h,onChange:e=>v(e.target.value),selectedValue:p,setSelectedValue:x}),(0,s.jsx)(u.Z,{type:"text",name:"".concat(r,"_comment"),placeholder:o,value:f,onChange:y,suggestions:m})]})]})})},p=a(6538),x=a(343),h=a(3107),g=a(1774),f=a(2469),b=a(4192),v=a(9105),y=a(2781),j=a(3275),w=a(5851),N=a(1942),k=e=>{let{title:t,name:a}=e,[n,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),[c,d]=(0,l.useState)(new Date);(0,l.useEffect)(()=>{let e=localStorage.getItem("selectedDate");e&&o(new Date(e))},[]),(0,l.useEffect)(()=>{if(i){let e=(0,p.WU)(i,"yyyy-MM-dd");localStorage.setItem("selectedDate",e)}else localStorage.removeItem("selectedDate")},[i]);let u=e=>{o(e),r(!1)};return(0,s.jsxs)("div",{className:"relative inline-block bg-white h-auto p-4 w-[1048px] rounded-lg",children:[(0,s.jsx)("input",{type:"text",value:i&&(0,p.WU)(i,"yyyy-MM-dd"),name:a,className:"hidden"}),(0,s.jsxs)("div",{className:"flex flex-col items-start gap-y-3 mb-4 border border-border p-4 rounded-lg",children:[(0,s.jsx)("label",{htmlFor:"date-picker-input",className:"block mb-2",children:(0,s.jsxs)("div",{children:["Tanggal Penilaian ",(0,s.jsx)("span",{})]})}),(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("input",{type:"text",id:"date-picker-input",placeholder:"Pilih tanggal",className:"w-full pl-3 cursor-pointer pr-4 py-2 border border-border rounded-md",readOnly:!0,value:i?(0,p.WU)(i,"dd-MMMM-yyyy",{locale:w.id}):"",onClick:()=>{r(!n)}}),(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,s.jsx)(N.IiJ,{})})]})]}),n&&(0,s.jsxs)("div",{className:"datepicker absolute top-20 left-0 w-96 p-4 bg-white border border-gray-300 rounded-lg shadow-lg z-50",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("button",{className:"text-xl text-gray-700",onClick:()=>{d((0,x.W)(c,1))},children:"\xab"}),(0,s.jsx)("span",{className:"font-bold text-gray-900",children:(0,p.WU)(c,"MMMM yyyy",{locale:w.id})}),(0,s.jsx)("button",{className:"text-xl text-gray-700",onClick:()=>{d((0,h.z)(c,1))},children:"\xbb"})]}),(0,s.jsx)("div",{className:"grid grid-cols-7 text-center mb-2",children:["MIN","SEN","SEL","RAB","KAM","JUM","SAB"].map(e=>(0,s.jsx)("div",{className:"text-center text-xs font-bold text-gray-600",children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 text-center",children:(()=>{let e=(0,g.z)((0,f.N)(c),{weekStartsOn:0}),t=(0,b.V)(c),a=[],l=e;for(;(0,v.x)(l,c)||l<=t;)a.push(l),l=(0,y.E)(l,1);return a.map(e=>(0,s.jsx)("div",{onClick:()=>u(e),className:"p-2 rounded-lg cursor-pointer ".concat((0,j.K)(e,i)?"bg-blue-500 text-white":""),children:(0,p.WU)(e,"d")},e.toString()))})()})]})]})},S=a(555),E=a(8472),I=()=>{let[e,t]=(0,l.useState)(!1),[a,i]=(0,l.useState)({}),[o,c]=(0,l.useState)([]),[d,u]=(0,l.useState)({}),[p,x]=(0,l.useState)([]),[h,g]=(0,l.useState)(""),[f,b]=(0,l.useState)(!1),[v,y]=(0,l.useState)(null),j=(0,n.useRouter)();(0,n.usePathname)();let w=sessionStorage.getItem("accessToken"),I=(0,l.useRef)(null),[M,C]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{b(!0),fetch("http://localhost:3001/instrument").then(e=>{if(!e.ok)throw Error("Network response was not ok: ".concat(e.statusText));return e.json()}).then(e=>{if(console.log("Data instrument fetched:",e),e&&Array.isArray(e.data)){let t=e.data.filter(e=>e.number>=1&&e.number<=7);console.log("Filtered Data:",t),c(t)}else throw console.error("Invalid data format received:",e),Error("Invalid data format")}).catch(e=>{console.error("Error fetching data:",e)}).finally(()=>{b(!1)}),fetch("https://swhytbiyrgsovsl-evfpthsuvq-et.a.run.app/instrument/area").then(e=>{if(!e.ok)throw Error("Network response was not ok: ".concat(e.statusText));return e.json()}).then(e=>{console.log("Data area fetched:",e),u(e.data),x(Object.keys(e.data).map(e=>({value:e})))}).catch(e=>{console.error("Error fetching data:",e)})},[]),(0,l.useEffect)(()=>{o.length>0&&t(o.every(e=>a["input-".concat(e.id)]))},[a,o]),f)return(0,s.jsx)("div",{className:"min-h-screen w-full flex justify-center items-center",children:(0,s.jsx)(N.fCD,{className:"animate-spin text-accent",size:50})});let _=async e=>{e.preventDefault();try{C(!0);let t=new FormData(e.target),a=Object.fromEntries(t.entries()),s=[{instrumentId:196,value:null,score:0,comment:a.pemipin_comment},{instrumentId:197,value:a.tanggal,score:0,comment:null},{instrumentId:198,value:a.tingkat,score:0,comment:a.tingkat_comment},{instrumentId:199,value:null,score:0,comment:a.peserta_comment}],l=await E.Z.post("https://swhytbiyrgsovsl-evfpthsuvq-et.a.run.app/response",s,{headers:{Authorization:"Bearer ".concat(w)}});200===l.status&&j.push("/assessment/bagian-1")}catch(e){console.error("Error posting data:",e)}finally{C(!1)}};return(0,s.jsxs)("div",{className:"bg-[#F1F1F7] h-screen overflow-x-hidden",children:[(0,s.jsx)(S.Z,{activeId:0,onClick:()=>{I.current&&(C(!1),I.current.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})))}}),(0,s.jsxs)("div",{className:"w-full ml-[344px] space-y-6 p-4",children:[(0,s.jsx)("div",{className:"bg-[#1446AB] pl-4 py-4 rounded-2xl w-[1048px] ",children:(0,s.jsx)("p",{className:"text-white font-extrabold text-xl",children:"Bagian 0 - Informasi umum"})}),(0,s.jsxs)("form",{ref:I,onSubmit:e=>{_(e),C(!0)},className:"flex flex-col gap-y-5",children:[(0,s.jsxs)("div",{className:"flex w-[70%] gap-x-4 ",children:[(0,s.jsx)(m,{label:"1. Siapa yang Memimpin Penilaian?",type:"text",placeholder:"Nama pemimpin penilaian...",name:"pemipin"}),(0,s.jsx)(k,{name:"tanggal"})]}),(0,s.jsx)(m,{label:"3. Pada tingkat apa penilaian dilakukan?",placeholder:"Masukan nama Provinsi (Jika Tingkat Nasional), Kabupaten/Kota (Jika Tingkat Sub Nasional)...",name:"tingkat",type:"dropdown",options:p,suggestions:d[h],selectedValue:h,setSelectedValue:g}),(0,s.jsx)(m,{label:"4. Peserta yang terlibat dalam penilaian?",placeholder:"Nama peserta penilaian...",name:"peserta",type:"text"}),(0,s.jsxs)("div",{className:"flex  items-center ml-80 my-10 gap-x-5 w-3/12",children:[(0,s.jsx)(r.Z,{label:"Sebelumnya",onClick:()=>{j.push("/assessment")},withIcon:"left",variant:"disabled",type:"button",disabled:!0}),(0,s.jsx)(r.Z,{label:"Berikutnya",withIcon:"right",type:"submit"})]})]})]})]})}}},function(e){e.O(0,[699,452,240,485,899,97,971,23,744],function(){return e(e.s=2827)}),_N_E=e.O()}]);